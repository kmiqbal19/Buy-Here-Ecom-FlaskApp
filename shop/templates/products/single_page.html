<!DOCTYPE html>
<html lang="en">
   <head>
      <!-- basic -->
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- mobile metas -->
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="viewport" content="initial-scale=1, maximum-scale=1">
      <!-- site metas -->
      <title>Buy Here Now</title>
      <meta name="keywords" content="">
      <meta name="description" content="">
      <meta name="author" content="">
      <!-- bootstrap css -->
      <link rel="stylesheet" href="./static/css/bootstrap.min.css">
      <link rel="stylesheet" href="./static/css/bootstrap.min_new.css">
      <!-- style css -->
      <link rel="stylesheet" href="./static/css/style.css">
      <!-- Responsive-->
      <link rel="stylesheet" href="./static/css/responsive.css">
      <!-- fevicon -->
      <link rel="icon" href="./static/images/fevicon.png" type="image/gif"/>
      <!-- Scrollbar Custom CSS -->
      <link rel="stylesheet" href="./static/css/jquery.mCustomScrollbar.min.css">
      <!-- Tweaks for older IEs-->
      <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">
      <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
   </head>

<body>
{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-md-6" id="b_image">
            <img src="{{url_for('static',filename='images/' + product.image_1)}}" alt="{{product.name}}" width="400" height="400">
        </div>
        <div class="col-md-6">
            <h4>Product name: {{product.name}} </h4>
            <hr>
            <p>Product price: ${{product.price}}</p>
            <hr>
            {% if product.discount > 0 and discount_expired == False %}
            <p>Discount: {{product.discount}} % </p>
            {% else %}
            <p>Discount: 0 % </p>
            {% endif %}
            

            <hr>
            <b>Product description</b>
            <p>{{product.desc}}</p>
            <form action="{{url_for('AddCart')}}" method="post">
                <input type="hidden" name="product_id" value="{{product.id}}">
                <button type="submit" class="btn btn-sm btn-warning">Add to Cart</button>
                <label for="">Quantity: </label>
                <input type="number" name="quantity" value="1" min="1" max="{{product.stock}}">
                {% set colors = product.colors.split(',') %}
                <label for="colors">Colors: </label>
                <select name="colors" id="colors">
                    {% for color in colors %}
                    {% set col = color.split(':') %}
                    <option value="{{col[0]}}">{{col[0] | capitalize }}</option>
                    {% endfor %}
                </select>
            </form>
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col-md-12" id="s_image">
            <img src="{{url_for('static',filename='images/'+ product.image_1)}}" alt="{{product.name}}" width="100" height="100">
            <img src="{{url_for('static',filename='images/'+ product.image_2)}}" alt="{{product.name}}" width="100" height="100" class="ml-5">
            <img src="{{url_for('static',filename='images/'+ product.image_3)}}" alt="{{product.name}}" width="100" height="100" class="ml-5">
        </div>
    </div>
    <!-- Rating Form -->
            <hr>
            <h4>Rate this product:</h4>
            <form action="{{ url_for('rate_product' ,invoice=invoice, product_id = product.id)}}" method="post">
                <input type="hidden" name="product_id" value="{{ product.id }}">
                <div class="form-group">
                    <label for="rating">Rating:</label>
                    <select class="form-control" name="rating" id="rating">
                        <option value="5">5 stars</option>
                        <option value="4">4 stars</option>
                        <option value="3">3 stars</option>
                        <option value="2">2 stars</option>
                        <option value="1">1 star</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="comment">Comment:</label>
                    <textarea class="form-control" name="comment" id="comment" rows="3"></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Submit Rating</button>
            </form>
</div>
<script>
    var b_image = document.getElementById('b_image');
    var s_image = document.getElementById('s_image').getElementsByTagName('img');
     for(var i = 0; i < s_image.length; i++){
 
         s_image[i].addEventListener('click', full_image);
     }
     function full_image(){
         var ImageSRC = this.getAttribute('src');
         b_image.innerHTML = "<img src=" + ImageSRC + " width='400' height='400'>";
     }
 </script>
{% endblock content %}
<!--<script src="{{url_for('static', filename='js/jquery-3.4.1.slim.min_new.js')}}" ></script>-->
<!--    <script src="{{url_for('static', filename='js/popper.min_new.js')}}"></script>-->
<!--    <script src="{{url_for('static', filename='js/bootstrap.min_new.js')}}"></script>-->
</body>
</html>